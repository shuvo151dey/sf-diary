(this["webpackJsonpsf-diary"]=this["webpackJsonpsf-diary"]||[]).push([[0],{104:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(24),o=a.n(l),s=(a(70),a(71),a(37)),c=a(9),i=a(6),m=a.n(i),u=a(14),d=a(22),p=a(25),h=a(10),g=a(11),f=a(13),y=a(12),b=a(15),E=a(16),v=a(31),C=a.n(v),k=new(function(){function e(){Object(h.a)(this,e),this.ctm_authenticated=!1,this.cth_authenticated=!1}return Object(g.a)(e,[{key:"login",value:function(e,t){localStorage.setItem("login_state",e),t()}},{key:"logout",value:function(e){localStorage.setItem("login_state",!1),localStorage.removeItem("id"),e()}},{key:"isAuthenticated",value:function(){return localStorage.getItem("login_state")}}]),e}()),O=function(e){return{type:"ADD_ALUMNI_DATA",payload:e}},D=function(e){return{type:"ADD_COMPANY_DATA",payload:e}},x=function(e){return{type:"ADD_CTM_DATA",payload:e}},j=function(e){return{type:"ADD_USER_DETAILS",payload:e}},A=a(61),S=a.n(A).a.create({baseURL:"https://mainapi.springfest.in"}),_=a(20),T=function(e){return Object(_.trackPromise)(S.post("sfdiary/login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})))},w=function(e){return Object(_.trackPromise)(S.post("sfdiary/getdata",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})))},N=function(e){return Object(_.trackPromise)(S.post("sfdiary/getdetails",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})))},L=function(e){return Object(_.trackPromise)(S.post("sfdiary/addalumni",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})))},I=function(e){return Object(_.trackPromise)(S.post("sfdiary/addcompany",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})))},P=a(32),H=a.n(P),U=(a(104),a(135)),F=a(136),M=a(137),R=a(138),J=a(139),Y=a(140),B=a(141),q=a(142),K=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{email:"",password:""},showForm:!1},e.handleChange=function(t){e.setState({data:Object(p.a)(Object(p.a)({},e.state.data),{},Object(d.a)({},t.target.name,t.target.value))})},e.toggleForm=function(){e.setState({showForm:!e.state.showForm})},e.handleSubmit=function(){var t=Object(u.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,T(e.state.data);case 3:"ctm"===(n=t.sent).data.por||"cth"===n.data.por?(e.props.addUser(n.data),localStorage.setItem("id",n.data.id),k.login(n.data.por,(function(){e.props.history.push("/"+n.data.por)}))):alert(n.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(C.a,{component:"div",transitionName:"TabsAnimation",className:"h-80",transitionAppear:!0,transitionAppearTimeout:0,transitionEnter:!1,transitionLeave:!1},r.a.createElement(U.a,{xs:"12"},r.a.createElement(F.a,{className:"mt-4"},r.a.createElement(U.a,{className:"col-xs-12 col-md-7 font-size-lg text-center"},r.a.createElement("img",{src:H.a,alt:"SF-logo",width:"300rem"}),r.a.createElement("h1",{className:"pe-4x"},"SF Diary")),r.a.createElement(U.a,{className:"col-xs-6 col-md-4"},r.a.createElement(M.a,{className:"main-card mb-3"},r.a.createElement(R.a,null,r.a.createElement(J.a,{className:"text-center pe-2x"},"Login"),r.a.createElement(Y.a,{onSubmit:this.handleSubmit},r.a.createElement(B.a,{type:"email",name:"email",placeholder:"Email",value:this.state.data.email,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(B.a,{type:"password",name:"password",placeholder:"Password",value:this.state.data.password,onChange:this.handleChange}),r.a.createElement(q.a,{color:"primary",className:"mt-3"},"Login")))))))))}}]),a}(n.Component),z=Object(E.b)((function(e){return{}}),(function(e){return Object(b.b)({addUser:j},e)}))(K),G=a(64),V=["component"],W=function(e){var t=e.component,a=Object(G.a)(e,V);return r.a.createElement(c.b,Object.assign({},a,{render:function(e){return k.isAuthenticated()?r.a.createElement(t,e):r.a.createElement(c.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Q=a(41),Z=(a(107),a(143)),$=a(159),X=a(144),ee=a(145),te=a(146),ae=a(147),ne=a(148),re=a(149),le=a(150),oe=a(151),se=a(40);a(108).config();var ce=window.gapi,ie=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.state.gc_title?n.state.gc_time?n.state.gc_date?ce.load("client:auth2",(function(){console.log("gapi loaded"),ce.client.init({apiKey:"AIzaSyD0BsiCTWOR_14UBHYqS8_TxjpQd7nQRR4",clientId:"288246232799-vls1j50o63u2cqm4c6obcfqijgrgjp37.apps.googleusercontent.com",discoveryDocs:se.DISCOVERY_DOCS,scope:se.SCOPES}),ce.client.load("calendar","v3",(function(){console.log("OK!")})),ce.auth2.getAuthInstance().signIn().then((function(){var e=n.state.gc_time,t=Number(e.slice(0,2))+1;e=("0"+t).slice(-2)+e.slice(2);var a={summary:n.state.gc_title,description:n.state.gc_body,start:{dateTime:n.state.gc_date+"T"+n.state.gc_time+":00",timeZone:"Asia/Kolkata"},end:{dateTime:n.state.gc_date+"T"+e+":00",timeZone:"Asia/Kolkata"},reminders:{useDefault:!1,overrides:[{method:"popup",minutes:120},{method:"popup",minutes:30}]}};ce.client.calendar.events.insert({calendarId:"primary",resource:a}).execute((function(e){var t;t=e.htmlLink,n.setState({event_message:r.a.createElement(Z.a,{color:"success"},"The event is successfully created. Go to:",r.a.createElement("br",null),r.a.createElement("a",{href:t,target:"_blank"},t),".")})}))})).catch((function(e){console.log(e.error)}))})):alert("Event date is required"):alert("Event time is required"):alert("Event title is required")},n.handleChange=function(e){n.setState(Object(d.a)({},e.target.name,e.target.value))},n.handleSubmit=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.state.value){e.next=5;break}alert("Field is empty"),e.next=15;break;case 5:return a={id:n.props.id,member_id:n.state.details.member_id,update:n.state.value,type:n.props.type,n_updates:n.state.details.n_updates},e.next=8,l=a,Object(_.trackPromise)(S.post("sfdiary/addupdate",JSON.stringify(l),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})));case 8:return e.sent,console.log(a),e.next=12,w({id:localStorage.getItem("id"),type:n.props.type});case 12:r=e.sent,"alumni"===n.props.type?n.props.addAlumni(r.data):n.props.addCompany(r.data),n.toggle();case 15:n.setState({value:""});case 16:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toggle=Object(u.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.modal){e.next=6;break}return t={id:n.props.id,type:"alumni"===n.props.type||"ctmAlumni"===n.props.type?"alumni":"company"},e.next=4,N(t);case 4:a=e.sent,n.setState({details:a.data});case 6:n.setState({table:"alumni"===n.props.type||"ctmAlumni"===n.props.type?n.props.alumniTable:n.props.companyTable,modal:!n.state.modal});case 7:case"end":return e.stop()}}),e)}))),n.state={modal:!1,value:"",details:{},table:[],gc_title:"",gc_body:"",gc_date:"",gc_time:"",event_message:""},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("span",{className:"d-inline-block mb-2 mr-2"},"ctmAlumni"===this.props.type||"ctmCompany"===this.props.type?r.a.createElement(q.a,{color:"primary",onClick:this.toggle},"Details"):r.a.createElement(q.a,{color:"primary",onClick:this.toggle},"Update"),r.a.createElement($.a,{isOpen:this.state.modal,toggle:this.toggle},"ctmAlumni"===this.props.type||"ctmCompany"===this.props.type?r.a.createElement(X.a,{toggle:this.toggle},"Details"):r.a.createElement(X.a,{toggle:this.toggle},"Update"),r.a.createElement(ee.a,null,r.a.createElement("table",{className:"w-100"},r.a.createElement("tbody",null,this.state.table.map((function(t){var a=Object.keys(e.state.details),n=a.splice(13,2*(e.state.details.n_updates-1)).concat(a.splice(-3,1),a.splice(-1,1));return r.a.createElement("tr",{key:t.index},r.a.createElement("td",null,t.Header),r.a.createElement("td",null,"updates"!==t.accessor?e.state.details[t.accessor]:r.a.createElement(te.a,null,n.map((function(t,a){return r.a.createElement(ae.a,{className:"border-0 p-0",key:t},(a%2?"- ":"")+e.state.details[t])})))))})))),"ctmAlumni"===this.props.type||"ctmCompany"===this.props.type?"":r.a.createElement(Y.a,{onSubmit:this.handleSubmit},r.a.createElement(F.a,{form:!0},r.a.createElement(U.a,{md:8},r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",name:"value",placeholder:"Add Update",value:this.state.value,onChange:this.handleChange}))),r.a.createElement(U.a,{md:4},r.a.createElement(q.a,{className:"float-left"},"Add Update")),r.a.createElement(U.a,{md:12},r.a.createElement(M.a,null,r.a.createElement(re.a,null,r.a.createElement("h6",null,"Add Reminder through Google Calendar")),r.a.createElement(R.a,null,r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",name:"gc_title",placeholder:"Event Summary*",value:this.state.gc_title,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"textarea",name:"gc_body",placeholder:"Event Details",value:this.state.gc_body,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Event Date*"),r.a.createElement(B.a,{type:"date",name:"gc_date",placeholder:"Event date",value:this.state.gc_date,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Event Time*"),r.a.createElement(B.a,{type:"time",name:"gc_time",placeholder:"Event Time",value:this.state.gc_time,onChange:this.handleChange})),r.a.createElement(q.a,{onClick:this.handleClick},"Add Event to Google Calendar"),r.a.createElement("div",{className:"mt-3"},this.state.event_message))))))),r.a.createElement(oe.a,null,r.a.createElement(q.a,{color:"link",onClick:this.toggle},"Cancel"))))}}]),a}(r.a.Component),me=Object(E.b)((function(e){return{alumniTable:e.alumniDetailTable,companyTable:e.companyDetailTable}}),(function(e){return Object(b.b)({addAlumni:O,addCompany:D},e)}))(ie),ue=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({details:Object(p.a)(Object(p.a)({},n.state.details),{},Object(d.a)({},e.target.name,e.target.value))})},n.handleSubmit=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={id:n.props.data.id,member_id:n.state.details.member_id,type:n.props.type,mobile:n.state.details.mobile,email:n.state.details.email,linkedin:n.state.details.linkedin?n.state.details.linkedin:"",addr:n.state.details.addr,post:n.state.details.post?n.state.details.post:"",remarks:n.state.details.remarks},e.next=4,o=a,Object(_.trackPromise)(S.post("sfdiary/editdetail",JSON.stringify(o),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})));case 4:return r=e.sent,e.next=7,w({id:localStorage.getItem("id"),type:n.props.type});case 7:l=e.sent,"alumni"===n.props.type?n.props.addAlumni(l.data):n.props.addCompany(l.data),alert(r.data),n.toggle(),n.setState({value:""});case 12:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toggle=Object(u.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.modal){e.next=8;break}return t={id:n.props.data.id,type:"alumni"===n.props.type||"ctmAlumni"===n.props.type?"alumni":"company"},e.next=4,N(t);case 4:a=e.sent,n.setState({modal:!0,details:a.data}),e.next=9;break;case 8:n.setState(n.getInitState());case 9:case"end":return e.stop()}}),e)}))),n.state=n.getInitState(),n}return Object(g.a)(a,[{key:"getInitState",value:function(){return{modal:!1,details:{company_name:"",name:"",contact_name:"",mobile:"",email:"",linkedin:"",addr:"",post:"",remarks:""}}}},{key:"render",value:function(){return r.a.createElement("span",{className:"d-inline-block mb-2 mr-2"},r.a.createElement(q.a,{onClick:this.toggle},"Edit"),r.a.createElement($.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(X.a,{toggle:this.toggle},"Edit"),r.a.createElement(ee.a,null,r.a.createElement(Y.a,{onSubmit:this.handleSubmit},r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Name"),r.a.createElement(B.a,{type:"text",disabled:!0,name:"name",value:"company"===this.props.type?this.state.details.company_name:this.state.details.name})),"company"===this.props.type?r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Contact Name"),r.a.createElement(B.a,{disabled:!0,type:"text",placeholder:"Contact Person name",name:"contact_name",value:this.state.details.contact_name})):"",r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Phone No"),r.a.createElement(B.a,{type:"number",placeholder:"Phone number",name:"mobile",value:this.state.details.mobile,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Email"),r.a.createElement(B.a,{type:"email",placeholder:"Email",name:"email",value:this.state.details.email,onChange:this.handleChange})),"alumni"===this.props.type?r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"LinkedIn"),r.a.createElement(B.a,{type:"text",placeholder:"LinkedIn link",name:"linkedin",value:this.state.details.linkedin,onChange:this.handleChange})):r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Post"),r.a.createElement(B.a,{type:"text",placeholder:"Post of Contact",name:"post",value:this.state.details.post,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Address"),r.a.createElement(B.a,{type:"text",placeholder:"Address",name:"addr",value:this.state.details.addr,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(le.a,null,"Remarks"),r.a.createElement(B.a,{type:"text",placeholder:"Remarks",name:"remarks",value:this.state.details.remarks,onChange:this.handleChange})),r.a.createElement(q.a,null,"Save"))),r.a.createElement(oe.a,null,r.a.createElement(q.a,{color:"link",onClick:this.toggle},"Cancel"))))}}]),a}(r.a.Component),de=Object(E.b)((function(e){return{alumniTable:e.alumniDetailTable,companyTable:e.companyDetailTable}}),(function(e){return Object(b.b)({addAlumni:O,addCompany:D},e)}))(ue),pe=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({formData:Object(p.a)(Object(p.a)({},n.state.formData),{},Object(d.a)({},e.target.name,e.target.value))})},n.handleSubmit=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r,l,o,s,c,i,u,d,p,h,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.state.formData.name||n.state.formData.mobile||n.state.formData.update){e.next=5;break}alert("Fill all fields"),e.next=55;break;case 5:if("alumni"!==n.props.type){e.next=31;break}if(""==n.state.formData.mobile){e.next=19;break}return a={member_id:localStorage.getItem("id"),name:n.state.formData.name,mobile:n.state.formData.mobile,email:n.state.formData.email,linkedin:n.state.formData.linkedin,addr:n.state.formData.addr,remarks:n.state.formData.remarks,update:n.state.formData.update},e.next=10,L(a);case 10:return r=e.sent,e.next=13,w({id:localStorage.getItem("id"),type:n.props.type});case 13:l=e.sent,n.props.addAlumni(l.data),console.log(r),alert(r.data),e.next=29;break;case 19:return o={member_id:localStorage.getItem("id"),name:n.state.formData.name,mobile:" ",email:n.state.formData.email,linkedin:n.state.formData.linkedin,addr:n.state.formData.addr,remarks:n.state.formData.remarks,update:n.state.formData.update},e.next=22,L(o);case 22:return s=e.sent,e.next=25,w({id:localStorage.getItem("id"),type:n.props.type});case 25:c=e.sent,n.props.addAlumni(c.data),console.log(s),alert(s.data);case 29:e.next=54;break;case 31:if(""==n.state.formData.mobile){e.next=44;break}return i={member_id:localStorage.getItem("id"),company_name:n.state.formData.name,contact_name:n.state.formData.contact_name,mobile:n.state.formData.mobile,email:n.state.formData.email,update:n.state.formData.update,post:n.state.formData.post,addr:n.state.formData.addr,remarks:n.state.formData.remarks},e.next=35,I(i);case 35:return u=e.sent,e.next=38,w({id:localStorage.getItem("id"),type:n.props.type});case 38:d=e.sent,n.props.addCompany(d.data),console.log(u),-2==u.code?alert("Please fill all fields"):alert(u.data),e.next=54;break;case 44:return p={member_id:localStorage.getItem("id"),company_name:n.state.formData.name,contact_name:n.state.formData.contact_name,mobile:" ",email:n.state.formData.email,update:n.state.formData.update,post:n.state.formData.post,addr:n.state.formData.addr,remarks:n.state.formData.remarks},e.next=47,I(p);case 47:return h=e.sent,e.next=50,w({id:localStorage.getItem("id"),type:n.props.type});case 50:g=e.sent,n.props.addCompany(g.data),console.log(h),-2==h.code?alert("Please fill all fields"):alert(h.data);case 54:n.toggle();case 55:n.setState(n.getInitState());case 56:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.toggle=function(){n.setState({modal:!n.state.modal})},n.state=n.getInitState(),n}return Object(g.a)(a,[{key:"getInitState",value:function(){return{modal:!1,formData:{name:"",contact_name:"",mobile:"",email:"",post:"",linkedin:"",addr:"",remarks:"",update:""}}}},{key:"render",value:function(){return r.a.createElement("span",{className:"d-inline-block mb-2 mr-2"},r.a.createElement(q.a,{color:"primary",onClick:this.toggle},"Add Contact"),r.a.createElement($.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},r.a.createElement(X.a,{toggle:this.toggle},"Add ",this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)," Contact"),r.a.createElement(ee.a,null,r.a.createElement(Y.a,{onSubmit:this.handleSubmit},r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"alumni"===this.props.type?"Name*":"Comapny Name*",name:"name",value:this.state.formData.name,onChange:this.handleChange})),"company"===this.props.type?r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"Contact Person name*",name:"contact_name",value:this.state.formData.contact_name,onChange:this.handleChange})):"",r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"number",placeholder:"Phone number",name:"mobile",value:this.state.formData.mobile,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"email",placeholder:"Email",name:"email",value:this.state.formData.email,onChange:this.handleChange})),"alumni"===this.props.type?r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"LinkedIn link",name:"linkedin",value:this.state.formData.linkedin,onChange:this.handleChange})):r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"Post of Contact",name:"post",value:this.state.formData.post,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"Address",name:"addr",value:this.state.formData.addr,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"First Update*",name:"update",value:this.state.formData.update,onChange:this.handleChange})),r.a.createElement(ne.a,null,r.a.createElement(B.a,{type:"text",placeholder:"Remarks",name:"remarks",value:this.state.formData.remarks,onChange:this.handleChange})),r.a.createElement(q.a,null,"Add Contact"))),r.a.createElement(oe.a,null,r.a.createElement(q.a,{color:"link",onClick:this.toggle},"Cancel"))))}}]),a}(r.a.Component),he=Object(E.b)((function(e){return{}}),(function(e){return Object(b.b)({addAlumni:O,addCompany:D},e)}))(pe),ge=a(62),fe=a.n(ge),ye=function(e){return Object(_.usePromiseTracker)().promiseInProgress&&r.a.createElement("div",{className:"loader t-container text-center"},r.a.createElement(fe.a,{type:"ThreeDots",color:"#2BAD60",height:100,width:100}))};function be(e,t){var a=e.pivotId||e.id;return void 0===t[a]||String(t[a].toLowerCase()).startsWith(e.value.toLowerCase())}var Ee=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).setCTM=function(e){n.setState({ctm:e}),n.props.changeTable("ctmAlumni",e.id)},n.state={ctm:{},tableData:[],columns_ctm:[{Header:"Name",accessor:"name",filterable:!0},{Header:"Phone Number",accessor:"mobile",filterable:!0},{Header:"Email",accessor:"email"},{filterable:!1,Cell:function(e){return r.a.createElement(q.a,{color:"primary",onClick:function(){return n.setCTM(e.original)}},"View")}}]},n}return Object(g.a)(a,[{key:"render",value:function(){var e=this,t="ctmAlumni"===this.props.type?"ctmCompany":"ctmCompany"===this.props.type?"ctmAlumni":"";return"ctm"===this.props.view?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"w-100 mt-4 mb-4"},r.a.createElement("div",{className:"float-right"},r.a.createElement(he,{type:this.props.type})),r.a.createElement("h2",{className:"text-center"},this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)+" Contacts")),r.a.createElement("div",{className:"t-container overflow-hidden"},r.a.createElement(Q.a,{data:this.state.tableData,LoadingComponent:ye,columns:"alumni"===this.props.type?this.state.columns_alumni:this.state.columns_company,defaultPageSize:100,sortable:!1,defaultFilterMethod:function(e,t){return be(e,t)}}))):r.a.createElement(n.Fragment,null,"ctmAlumni"===this.props.type||"ctmCompany"===this.props.type?r.a.createElement("div",{className:"w-100 mt-4 mb-4"},r.a.createElement(q.a,{className:"float-right mr-4",onClick:function(){return e.props.changeTable(t,e.state.ctm.id)}},"View ",t," updates"),r.a.createElement("h2",{className:"text-center"},this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)+" Updates ("+this.state.ctm.name+")")):r.a.createElement("div",{className:"w-100 mt-4 mb-4"},"ctm"===this.props.type?"":r.a.createElement("div",{className:"float-right"},r.a.createElement(he,{type:this.props.type})),r.a.createElement("h2",{className:"text-center"},this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1))),r.a.createElement("div",{className:"t-container overflow-hidden"},r.a.createElement(Q.a,{data:this.state.tableData,LoadingComponent:ye,columns:"alumni"===this.props.type||"ctmAlumni"===this.props.type?this.state.columns_alumni:"company"===this.props.type||"ctmCompany"===this.props.type?this.state.columns_company:this.state.columns_ctm,defaultPageSize:100,sortable:!1,defaultFilterMethod:function(e,t){return be(e,t)}})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{tableData:"alumni"===e.type||"ctmAlumni"===e.type?e.alumni:"ctm"===e.type?e.ctm:e.company,columns_alumni:[{Header:"Name",accessor:"name",filterable:!0},{Header:"Phone Number",accessor:"mobile",filterable:!0},{Header:"Last Update",accessor:"last_update"},{Header:"Last Update Date",accessor:"updated_at"},{filterable:!1,width:80,Cell:function(t){return r.a.createElement(me,{id:t.original.id,type:e.type})}},{filterable:!1,width:60,show:"alumni"===e.type,Cell:function(t){return r.a.createElement(de,{data:t.original,type:e.type})}}],columns_company:[{Header:"Company Name",accessor:"company_name",filterable:!0},{Header:"Contact Name",accessor:"contact_name",filterable:!0},{Header:"Phone Number",accessor:"mobile",filterable:!0},{Header:"Last Update",accessor:"last_update"},{Header:"Last Update Date",accessor:"updated_at"},{filterable:!1,width:80,Cell:function(t){return r.a.createElement(me,{id:t.original.id,type:e.type})}},{filterable:!1,width:60,show:"company"===e.type,Cell:function(t){return r.a.createElement(de,{data:t.original,type:e.type})}}]}}}]),a}(r.a.Component),ve=Object(E.b)((function(e){return{alumni:e.alumni,company:e.company,ctm:e.ctm}}))(Ee),Ce=a(152),ke=a(153),Oe=a(154),De=a(155),xe=a(156),je=a(157),Ae=a(158),Se=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isOpen:!1},e.toggle=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement(C.a,{component:"div",className:"app-header header-shadow",transitionName:"HeaderAnimation",transitionAppear:!0,transitionAppearTimeout:1500,transitionEnter:!1,transitionLeave:!1},r.a.createElement("div",{className:"w-100"},r.a.createElement(Ce.a,{light:!0,expand:"md"},r.a.createElement(ke.a,{className:"mr-auto"},r.a.createElement("img",{className:"float-left",src:H.a,alt:"SF-logo",width:"40px"}),r.a.createElement("h2",{className:"ml-2 float-left"},"SF diary")),r.a.createElement(Oe.a,{onClick:this.toggle}),r.a.createElement(De.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(xe.a,{className:"ml-auto",navbar:!0},"cth"===this.props.type?r.a.createElement(je.a,{onClick:function(){return e.props.changeTable("ctm")}},r.a.createElement(Ae.a,null,"CTM")):"",r.a.createElement(je.a,{onClick:function(){return e.props.changeTable("alumni")}},r.a.createElement(Ae.a,null,"Alumni")),r.a.createElement(je.a,{onClick:function(){return e.props.changeTable("company")}},r.a.createElement(Ae.a,null,"Company")),r.a.createElement(je.a,{onClick:function(){return e.props.logout()}},r.a.createElement(Ae.a,null,"Log Out"))))))))}}]),a}(r.a.Component),_e=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;for(var r in Object(h.a)(this,a),(n=t.call(this,e)).setTimeout=function(){n.logoutTimeout=setTimeout(n.autoLogout,6e5)},n.autoLogout=function(){n.setState({autoLogout:!0}),n.handleLogout()},n.resetTimeout=function(){n.clearTimeout(),n.setTimeout()},n.destroy=function(){for(var e in n.clearTimeout(),n.events)window.removeEventListener(n.events[e],n.resetTimeout)},n.getAllData=Object(u.a)(m.a.mark((function e(){var t,a,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:localStorage.getItem("id"),type:"alumni"},e.next=3,w(t);case 3:return a=e.sent,n.props.addAlumni(a.data),r={id:localStorage.getItem("id"),type:"company"},e.next=8,w(r);case 8:l=e.sent,n.props.addCompany(l.data);case 10:case"end":return e.stop()}}),e)}))),n.handleLogout=function(){n.state.autoLogout&&alert("You have been logged out due to inactivity"),n.props.addAlumni([]),n.props.addCompany([]),n.destroy(),k.logout((function(){n.props.history.push("/")}))},n.changeTable=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAllData();case 2:n.setState({table:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={autoLogout:!1,table:"alumni",allData:!1},n.events=["load","mousemove","mousedown","click","scroll","keypress"],n.events)window.addEventListener(n.events[r],n.resetTimeout);return n.setTimeout(),n}return Object(g.a)(a,[{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.logoutTimeout&&clearTimeout(this.logoutTimeout)}))},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ctm"===k.isAuthenticated()){e.next=4;break}this.props.history.push("/"),e.next=6;break;case 4:return e.next=6,this.getAllData();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Se,{changeTable:this.changeTable,type:"ctm",logout:this.handleLogout}),r.a.createElement(ve,{view:"ctm",type:this.state.table,id:localStorage.getItem("id")}))}}]),a}(n.Component),Te=Object(E.b)((function(e){return{userDetails:e.userDetails}}),(function(e){return Object(b.b)({addAlumni:O,addCompany:D},e)}))(_e),we=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var n;for(var r in Object(h.a)(this,a),(n=t.call(this,e)).setTimeout=function(){n.logoutTimeout=setTimeout(n.autoLogout,6e5)},n.autoLogout=function(){n.setState({autoLogout:!0}),n.handleLogout()},n.resetTimeout=function(){n.clearTimeout(),n.setTimeout()},n.destroy=function(){for(var e in n.clearTimeout(),n.events)window.removeEventListener(n.events[e],n.resetTimeout)},n.getAllData=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r,l,o,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t,type:"alumni"},e.next=3,w(a);case 3:return r=e.sent,n.props.addAlumni(r.data),l={id:t,type:"company"},e.next=8,w(l);case 8:return o=e.sent,n.props.addCompany(o.data),s={id:localStorage.getItem("id"),type:"cth"},e.next=13,i=s,Object(_.trackPromise)(S.post("sfdiary/getctms",JSON.stringify(i),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){return console.log(e),null})));case 13:c=e.sent,n.props.addCTM(c.data);case 15:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleLogout=function(){n.state.autoLogout&&alert("You have been logged out due to inactivity"),n.props.addAlumni([]),n.props.addCompany([]),n.props.addCTM([]),n.destroy(),k.logout((function(){n.props.history.push("/")}))},n.changeTable=function(){var e=Object(u.a)(m.a.mark((function e(t){var a,r=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:localStorage.getItem("id"),e.next=3,n.getAllData(a);case 3:n.setState({table:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={autoLogout:!1,table:"alumni"},n.events=["load","mousemove","mousedown","click","scroll","keypress"],n.events)window.addEventListener(n.events[r],n.resetTimeout);return n.setTimeout(),n}return Object(g.a)(a,[{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.logoutTimeout&&clearTimeout(this.logoutTimeout)}))},{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cth"===k.isAuthenticated()){e.next=4;break}this.props.history.push("/"),e.next=6;break;case 4:return e.next=6,this.getAllData(localStorage.getItem("id"));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Se,{changeTable:this.changeTable,type:"cth",logout:this.handleLogout}),r.a.createElement(ve,{view:"cth",type:this.state.table,changeTable:this.changeTable}))}}]),a}(n.Component),Ne=Object(E.b)((function(e){return{userDetails:e.userDetails}}),(function(e){return Object(b.b)({addAlumni:O,addCompany:D,addCTM:x},e)}))(we);var Le=function(){return r.a.createElement(s.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:z}),r.a.createElement(W,{path:"/ctm",component:Te}),r.a.createElement(W,{path:"/cth",component:Ne}),r.a.createElement(c.b,{component:z})))},Ie=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1},e.toggle=function(){e.setState({modal:!e.state.modal})},e}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app-footer newFooter"},r.a.createElement("div",{className:"app-footer__inner"},r.a.createElement("div",{className:"app-footer-right"},r.a.createElement("span",{className:"d-inline-block mb-2 mr-2"},r.a.createElement(q.a,{color:"link",onClick:this.toggle},"Credits"),r.a.createElement($.a,{isOpen:this.state.modal,toggle:this.toggle},r.a.createElement(X.a,{toggle:this.toggle},"Credits"),r.a.createElement(ee.a,null,"Kashish Goyal"),r.a.createElement(oe.a,null,r.a.createElement(q.a,{color:"link",onClick:this.toggle},"Cancel"))))))))}}]),a}(r.a.Component),Pe=[],He=[],Ue=[],Fe=[],Me=[{Header:"Name",accessor:"name",index:1},{Header:"Phone No",accessor:"mobile",index:2},{Header:"Email",accessor:"email",index:3},{Header:"LinkedIn Link",accessor:"linkedin",index:4},{Header:"Address",accessor:"addr",index:5},{Header:"Remarks",accessor:"remarks",index:6},{Header:"Updates",accessor:"updates",index:7}],Re=[{Header:"Compay Name",accessor:"company_name",index:1},{Header:"Contact Person Name",accessor:"contact_name",index:2},{Header:"Phone No",accessor:"mobile",index:3},{Header:"Email",accessor:"email",index:4},{Header:"Post of Contact",accessor:"post",index:5},{Header:"Address",accessor:"addr",index:6},{Header:"Remarks",accessor:"remarks",index:7},{Header:"Updates",accessor:"updates",index:8}],Je=Object(b.c)({alumni:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALUMNI_DATA":return t.payload;default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMPANY_DATA":return t.payload;default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_DETAILS":return t.payload;default:return e}},alumniDetailTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALUMNI_DETAIL_TABLE":return t.payload;default:return e}},companyDetailTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPANY_DETAIL_TABLE":return t.payload;default:return e}},ctm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CTM_DATA":return t.payload;default:return e}}}),Ye=a(63);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.d(t,"store",(function(){return Be}));var Be=Object(b.d)(Je,Object(b.a)(Ye.a));o.a.render(r.a.createElement(E.a,{store:Be},r.a.createElement(Le,null),r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},32:function(e,t,a){e.exports=a.p+"static/media/sflogo.98f322d5.png"},40:function(e){e.exports=JSON.parse('{"DISCOVERY_DOCS":["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],"SCOPES":"https://www.googleapis.com/auth/calendar"}')},65:function(e,t,a){e.exports=a(134)},70:function(e,t,a){},71:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.3661a3c0.chunk.js.map